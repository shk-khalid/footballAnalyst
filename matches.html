<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Team HTML</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat%7COpen+Sans:700,400%7CRaleway:400,800,900" rel="stylesheet" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link href="css/library/bootstrap.css" rel="stylesheet" type="text/css" />
  <link href="dev-assets/preloader-default.css" rel="stylesheet" type="text/css" />
  <link href="dev-assets/demo-switcher.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
  <!-- 
    
    Enable one styles which the you want
    
    <link href="css-min/soccer.min.css" rel="stylesheet" type="text/css" />
    <link href="css-min/hockey.min.css" rel="stylesheet" type="text/css" />
    <link href="css-min/basketball.min.css" rel="stylesheet" type="text/css" />
    <link href="css-min/football.min.css" rel="stylesheet" type="text/css" />
    <link href="css-min/baseball.min.css" rel="stylesheet" type="text/css" />
    <link href="css-min/dota.min.css" rel="stylesheet" type="text/css" />
    <link href="css-min/csgo.min.css" rel="stylesheet" type="text/css" />
    
    All libraries included in this css, concating rules in /grunt/cssmin.js
    Use grunt default task for creating this files
    
    -->
  <style>
    .owl-nav {
      display: flex;
      justify-content: space-between;
    }

    .owl-prev,
    .owl-next {
      background: #fff !important;
      color: #333 !important;
      border-radius: 50%;
      padding: 8px 15px;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
    }

    .owl-prev {
      position: absolute;
      left: -30px;
      top: 50%;
      transform: translateY(-50%);
    }

    .owl-next {
      position: absolute;
      right: -30px;
      top: 50%;
      transform: translateY(-50%);
    }

    .owl-prev:hover,
    .owl-next:hover {
      background: #333 !important;
      color: #fff !important;
    }
  </style>
</head>

<body>
  <div class="preloader-wrapper" id="preloader">
    <div class="motion-line dark-big"></div>
    <div class="motion-line yellow-big"></div>
    <div class="motion-line dark-small"></div>
    <div class="motion-line yellow-normal"></div>
    <div class="motion-line yellow-small1"></div>
    <div class="motion-line yellow-small2"></div>
  </div>

  <div class="top-bar">
    <div class="container">
      <div class="row">
        <div class="col-md-7 hidden-sm hidden-xs"></div>
        <div class="col-md-5">
          <div class="top-language">
            <ul class="list">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><img src="images/common/en-flag.png" alt="selected language" />EN</a>
                <ul class="dropdown-menu">
                  <li>
                    <a href="#"><img src="images/common/fr-flag.png" alt="language" />FR</a>
                  </li>
                  <li>
                    <a href="#"><img src="images/common/en-flag.png" alt="language" />EN</a>
                  </li>
                  <li>
                    <a href="#"><img src="images/common/ru-flag.png" alt="language" />RU</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>

          <div class="clear"></div>
        </div>
      </div>
    </div>
  </div>

  <!--MAIN MENU WRAP BEGIN-->
  <div class="main-menu-wrap sticky-menu">
    <div class="container">
      <a href="index-2.html" class="custom-logo-link"><img src="images/soccer/logo.png" alt="logo" class="custom-logo" /></a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#team-menu" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <nav class="navbar">
        <div class="collapse navbar-collapse" id="team-menu">
          <ul class="main-menu nav">
            <li>
              <a href="index.html"><span>Home</span></a>
            </li>
            <li class="active">
              <a href="matches.html"><span>Matches</span></a>
            </li>
            <li>
              <a href="team.html"><span>Team</span></a>
            </li>
            <li>
              <a href="upcoming-match.html"><span>Starting XI</span></a>
            </li>

            <li>
              <a href="sport-team-landing.html"><span>League Standings</span></a>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </div>
  <!--MAIN MENU WRAP END-->

  <!--MAIN MENU WRAP END-->

  <!--BREADCRUMBS BEGIN-->
  <section class="image-header">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="info">
            <div class="wrap">
              <ul class="breadcrumbs">
                <li><a href="index.html">FIXTURES</a></li>
                <li></li>
              </ul>
              <h1>UPCOMING MATCHES</h1>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--BREADCRUMBS END-->

  <!--MAIN MATCH SHEDULE BEGIN-->

  <section class="main-match-shedule amateurs-match-shedule">
    <div class="container">
      <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
          <h5>Next matches</h5>
        </div>
        <div class="col-md-10 col-sm-9 col-xs-9"></div>
        <div class="col-md-12 col-sm-12 col-xs-12">
          <ul class="tab-filters" role="tablist">
            <li>
              <a href="#premierleague" role="tab" data-toggle="tab" aria-expanded="true">premier league</a>
            </li>
          </ul>


          <div class="tab-content">
            <div class="owl-carousel match-carousel">
              <!-- Match 1 -->
              <!-- <div class="amateurs-main-match">
                <div class="title">Premier League - Round 28</div>
                <a href="matches.html" class="team">
                  <span class="image"><img src="images/soccer/brighton.jpg" alt="Brighton" /></span>
                  <span class="info">
                    <span class="name">Brighton & Hove Albion</span>
                    <span class="city">UK</span>
                  </span>
                </a>
                <div class="score"><span>0:0</span></div>
                <a href="matches.html" class="team guest">
                  <span class="info">
                    <span class="name">Manchester United</span>
                    <span class="city">Manchester</span>
                  </span>
                  <span class="image"><img src="images/soccer/manutd.jpeg" alt="Manchester United" /></span>
                </a>
                <div class="title">26 September / 8:45 PM</div>
              </div> -->


            </div>
          </div>

        </div>
        <div class="col-md-12 col-sm-12 col-xs-12">
          <h6>Latest matches</h6>
        </div>
        <div class="col-md-12 col-sm-12 col-xs-12">
          <div class="main-lates-matches">
            <a href="#" class="item">
              <span class="championship">Premier League </span>
              <span class="teams-wrap">
                <span class="team">
                  <span>
                    <img src="images/soccer/aston villa.png" alt="team-image" />
                  </span>
                  <span>Aston Villa</span>
                </span>
                <span class="score">
                  <span>0:0</span>
                </span>
                <span class="team1">
                  <span>Liverpool</span>
                  <span><img src="images/soccer/liverpool.jpg" alt="team-image" /></span>
                </span>
              </span>
            </a>
            <a href="#" class="item">
              <span class="championship">Premier League </span>
              <span class="teams-wrap">
                <span class="team">
                  <span>
                    <img src="images/soccer/leicester.png" alt="team-image" />
                  </span>
                  <span>Leicester</span>
                </span>
                <span class="score">
                  <span>0:0</span>
                </span>
                <span class="team1">
                  <span>Wolves</span>
                  <span><img src="images/soccer/wolves.png" alt="team-image" /></span>
                </span>
              </span>
            </a>
            <a href="#" class="item">
              <span class="championship">Premier League </span>
              <span class="teams-wrap">
                <span class="team">
                  <span>
                    <img src="images/soccer/west ham.png" alt="team-image" />
                  </span>
                  <span>West Ham</span>
                </span>
                <span class="score">
                  <span>0:0</span>
                </span>
                <span class="team1">
                  <span>Bournemouth</span>
                  <span><img src="images/soccer/bournemouth.png" alt="team-image" /></span>
                </span>
              </span>
            </a>
            <a href="#" class="item">
              <span class="championship">Premier League</span>
              <span class="teams-wrap">
                <span class="team">
                  <span>
                    <img src="images/soccer/arsenal.jpeg" alt="team-image" />
                  </span>
                  <span>Arsenal</span>
                </span>
                <span class="score">
                  <span>0:0</span>
                </span>
                <span class="team1">
                  <span>Manchester City</span>
                  <span><img src="images/soccer/mancity.jpeg" alt="team-image" /></span>
                </span>
              </span>
            </a>
            <a href="#" class="item">
              <span class="championship">Premier league</span>
              <span class="teams-wrap">
                <span class="team">
                  <span>
                    <img src="images/soccer/brighton.jpg" alt="team-image" />
                  </span>
                  <span>Brighton & Hove Albion</span>
                </span>
                <span class="score">
                  <span>0:0</span>
                </span>
                <span class="team1">
                  <span>leicester</span>
                  <span><img src="images/soccer/leicester.png" alt="team-image" /></span>
                </span>
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!--MAIN MATCH SHEDULE END-->

  <!--FOOTER BEGIN-->
  <footer class="footer">
    <div class="wrapper-overfllow">
      <div class="container">
        <div class="row">
          <div class="col-md-4 col-sm-12">
            <div class="footer-left">
              <div class="wrap">
                <a href="index.html" class="foot-logo"><img src="images/soccer/footer-logo.png" alt="footer-logo" />
                  <div></div>
                  <p>"Your Game, Your Data, Your Victory."</p>
                </a>
              </div>
            </div>
          </div>
          <div class="col-md-4 col-sm-12 col-lg-offset-1"></div>
          <div class="col-lg-3 col-md-4 col-sm-12"></div>
        </div>
      </div>
    </div>
    <div class="footer-menu-wrap">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <a href="#top" class="foot-up"><span>up <i class="fa fa-caret-up" aria-hidden="true"></i></span></a>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="container">
        <div class="row">
          <div class="col-xs-6"></div>
          <div class="col-xs-6">
            <div class="created"></div>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!--FOOTER END-->


  <!-- jQuery (Required for Owl Carousel) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Owl Carousel JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script type="text/javascript" src="js/library/jquery.js"></script>
  <script type="text/javascript" src="js/library/jquery-ui.js"></script>
  <script type="text/javascript" src="js/library/bootstrap.js"></script>
  <script type="text/javascript" src="js/library/jquery.sticky.js"></script>
  <script type="text/javascript" src="js/library/jquery.jcarousel.js"></script>
  <script type="text/javascript" src="js/library/jcarousel.connected-carousels.js"></script>
  <script type="text/javascript" src="js/library/owl.carousel.js"></script>
  <script type="text/javascript" src="js/library/progressbar.js"></script>
  <script type="text/javascript" src="js/library/jquery.bracket.min.js"></script>
  <script type="text/javascript" src="js/library/chartist.js"></script>
  <script type="text/javascript" src="js/library/Chart.js"></script>
  <script type="text/javascript" src="js/library/fancySelect.js"></script>
  <script type="text/javascript" src="js/library/isotope.pkgd.js"></script>
  <script type="text/javascript" src="js/library/imagesloaded.pkgd.js"></script>

  <script type="text/javascript" src="js/jquery.team-coundown.js"></script>
  <script type="text/javascript" src="js/matches-slider.js"></script>
  <script type="text/javascript" src="js/header.js"></script>
  <script type="text/javascript" src="js/matches_broadcast_listing.js"></script>
  <script type="text/javascript" src="js/news-line.js"></script>
  <script type="text/javascript" src="js/match_galery.js"></script>
  <script type="text/javascript" src="js/main-club-gallery.js"></script>
  <script type="text/javascript" src="js/product-slider.js"></script>
  <script type="text/javascript" src="js/circle-bar.js"></script>
  <script type="text/javascript" src="js/standings.js"></script>
  <script type="text/javascript" src="js/shop-price-filter.js"></script>
  <script type="text/javascript" src="js/timeseries.js"></script>
  <script type="text/javascript" src="js/radar.js"></script>
  <script type="text/javascript" src="js/slider.js"></script>
  <script type="text/javascript" src="js/preloader.js"></script>
  <script type="text/javascript" src="js/diagram.js"></script>
  <script type="text/javascript" src="js/bi-polar-diagram.js"></script>
  <script type="text/javascript" src="js/label-placement-diagram.js"></script>
  <script type="text/javascript" src="js/donut-chart.js"></script>
  <script type="text/javascript" src="js/animate-donut.js"></script>
  <script type="text/javascript" src="js/advanced-smil.js"></script>
  <script type="text/javascript" src="js/svg-path.js"></script>
  <script type="text/javascript" src="js/pick-circle.js"></script>
  <script type="text/javascript" src="js/horizontal-bar.js"></script>
  <script type="text/javascript" src="js/gauge-chart.js"></script>
  <script type="text/javascript" src="js/stacked-bar.js"></script>

  <script type="text/javascript" src="js/library/chartist-plugin-legend.js"></script>
  <script type="text/javascript" src="js/library/chartist-plugin-threshold.js"></script>
  <script type="text/javascript" src="js/library/chartist-plugin-pointlabels.js"></script>

  <script type="text/javascript" src="js/treshold.js"></script>
  <script type="text/javascript" src="js/visible.js"></script>
  <script type="text/javascript" src="js/anchor.js"></script>
  <script type="text/javascript" src="js/landing_carousel.js"></script>
  <script type="text/javascript" src="js/landing_sport_standings.js"></script>
  <script type="text/javascript" src="js/twitterslider.js"></script>
  <script type="text/javascript" src="js/champions.js"></script>
  <script type="text/javascript" src="js/landing_mainnews_slider.js"></script>
  <script type="text/javascript" src="js/carousel.js"></script>
  <script type="text/javascript" src="js/video_slider.js"></script>
  <script type="text/javascript" src="js/footer_slides.js"></script>
  <script type="text/javascript" src="js/player_test.js"></script>

  <script type="text/javascript" src="js/main.js"></script>

  <script type="text/javascript" src="dev-assets/demo-switcher.js"></script>
  <script>
    function fetchUpcomingMatchesData() {
      const apiUrl = "http://127.0.0.1:8000/match/upcoming/"; // Ensure this API returns match data
    
      fetch(apiUrl)
        .then(response => {
          if (!response.ok) {
            throw new Error(`Network response was not ok, Status: ${response.status}`);
          }
          return response.json(); // Parse JSON response
        })
        .then(data => {
          console.log("API Response:", data); // Check if data is received
          if (!Array.isArray(data)) {
            throw new Error("Expected an array but got something else.");
          }
          displayUpcomingTeamDetails(data);
        })
        .catch(error => {
          console.error("Error fetching match data:", error);
          document.getElementById("team-details").innerHTML =
            "<p>Error loading match details. Please try again later.</p>";
        });
    }

    // Function to format the UTC date
    function formatUtcDate(utcDateString) {
      const date = new Date(utcDateString);

      const optionsDate = {
        day: "numeric",
        month: "long"
      };
      const formattedDate = date.toLocaleDateString("en-GB", optionsDate);

      const optionsTime = {
        hour: "numeric",
        minute: "2-digit",
        hour12: true
      };
      const formattedTime = date
        .toLocaleTimeString("en-GB", optionsTime)
        .replace(/\s/g, "");

      return `${formattedDate} / ${formattedTime}`;
    }

    // Function to display match details on the page
    function displayUpcomingTeamDetails(allMatchesData) {
      // const teamDetails = document.getElementById("upcoming-details");
      const teamDetails = document.querySelector('.owl-carousel.match-carousel');
      // Clear any existing content
      teamDetails.innerHTML = "";
      console.log(allMatchesData)
      // Loop through the array of matches and display each one
      allMatchesData.forEach(match => {
        console.log(match, 'match')
        const matchHTML = `
      <div class="amateurs-main-match">
        <div class="title">Matchday ${match.matchday}</div>
        <a href="matches.html" class="team">
          <span class="image"><img src="${match.homeTeam.crest}" alt="${match.homeTeam.name}" /></span>
          <span class="info">
            <span class="name">${match.homeTeam.name}</span>
            <span class="city">UK</span>
          </span>
        </a>
        <div class="score" style="display:none"><span>${match.score || "TBD"}</span></div>
        <a href="matches.html" class="team guest">
          <span class="info">
            <span class="name">${match.awayTeam.name}</span>
            <span class="city">UK</span>
          </span>
          <span class="image"><img src="${match.awayTeam.crest}" alt="${match.awayTeam.name}" /></span>
        </a>
        <div class="title">${formatUtcDate(match.utcDate)}</div>
      </div>
    `;

        // Append match item to team details
        teamDetails.innerHTML += matchHTML;
      });
      $(document).ready(function(){
        $(".owl-carousel").owlCarousel({
          items: 1,  // Number of items to show at a time
          loop: true,  // Enables looping of the carousel
          nav: true,  // Show prev/next buttons
          dots: true,  // Show dots for navigation
          margin: 10,  // Space between items
          navText: [
          "<i class='fa fa-chevron-left'></i>", // Left Arrow
          "<i class='fa fa-chevron-right'></i>" // Right Arrow
        ],
        });
      });
    }

    // Fetch match data when the page loads
    window.onload = fetchUpcomingMatchesData;
    
  </script>
</body>

</html>